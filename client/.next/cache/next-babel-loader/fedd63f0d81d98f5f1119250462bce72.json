{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/nipun/Focaloid/Slim.AI/todo-demo/next-todo-demo/client/pages/index.js\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Navbar, InputGroup, Form, FormControl, ListGroup, Button, Container, Col, Row, Card, Toast } from 'react-bootstrap';\nimport NProgress from 'nprogress';\nimport 'nprogress/nprogress.css';\n\nfunction Home(_ref) {\n  _s();\n\n  var _this = this;\n\n  var data = _ref.data;\n\n  var _useState = useState(data),\n      items = _useState[0],\n      setItems = _useState[1];\n\n  var _useState2 = useState({\n    complete: false,\n    todotext: \"\"\n  }),\n      newitem = _useState2[0],\n      setNewitem = _useState2[1];\n\n  var _useState3 = useState({\n    text: \"\",\n    show: false\n  }),\n      toast = _useState3[0],\n      setToast = _useState3[1];\n\n  var baseUrl = \"http://localhost:9000/api\"; // API Calls\n\n  var getTodos = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var url;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              url = baseUrl + \"/\";\n              _context.prev = 1;\n              _context.next = 4;\n              return fetch(url).then(function (_) {\n                console.log(_.status);\n                return _.json();\n              }).then(function (result) {\n                console.log(result);\n                setItems(result);\n              })[\"catch\"](function (_) {\n                setToast({\n                  text: \"data get error\",\n                  show: true\n                });\n                console.log(\"error\", _);\n              });\n\n            case 4:\n              _context.next = 9;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(\"Error : \", _context.t0);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 6]]);\n    }));\n\n    return function getTodos() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var changeNewitemName = function changeNewitemName(e) {\n    return setNewitem(function (_newItem) {\n      _newItem.todotext = e.target.value;\n      return _objectSpread({}, _newItem);\n    });\n  };\n\n  var changeNewitemComplete = function changeNewitemComplete(e) {\n    return setNewitem(function (_newItem) {\n      _newItem.complete = e.target.checked;\n      console.log(_newItem);\n      return _objectSpread({}, _newItem);\n    });\n  };\n\n  var changeItemComplete = function changeItemComplete(e, item) {\n    NProgress.start();\n    var url = baseUrl + \"/\" + item._id;\n    item.complete = !item.complete;\n    fetch(url, {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(item)\n    }).then(function (_) {\n      return getTodos();\n    })[\"catch\"](function (_) {\n      return setToast({\n        text: \"todo update error\",\n        show: true\n      });\n    });\n    NProgress.done();\n  };\n\n  var addItem = function addItem() {\n    NProgress.start();\n    var data = {\n      todotext: newitem.todotext,\n      complete: newitem.complete\n    };\n    console.log(data);\n    var url = baseUrl + \"/\";\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(function (_) {\n      console.log(_.status);\n      return _.json();\n    }).then(function (result) {\n      console.log(\"result\", result);\n      getTodos();\n      setNewitem({\n        complete: false,\n        todotext: \"\"\n      });\n    })[\"catch\"](function (_) {\n      setToast({\n        text: \"todo add error\",\n        show: true\n      });\n      console.log(\"error\", _);\n    });\n    NProgress.done();\n  };\n\n  var deleteItem = function deleteItem(id) {\n    NProgress.start();\n    var url = baseUrl + \"/\" + id;\n    fetch(url, {\n      method: \"DELETE\",\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }).then(function (_) {\n      getTodos();\n    })[\"catch\"](function () {\n      setToast({\n        text: \"todo delete error\",\n        show: true\n      });\n    });\n    NProgress.done();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      bg: \"light\",\n      variant: \"light\",\n      children: /*#__PURE__*/_jsxDEV(Navbar.Brand, {\n        href: \"#home\",\n        children: \"Next Based Todo App\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          marginTop: 40 + 'px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          xs: \"10\",\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                paddingLeft: 30 + 'px'\n              },\n              children: \"Add Todo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            className: \"justify-content-xs-center\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              xs: \"10\",\n              children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n                  children: /*#__PURE__*/_jsxDEV(InputGroup.Checkbox, {\n                    onChange: changeNewitemComplete,\n                    checked: newitem.complete\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                  onChange: changeNewitemName,\n                  placeholder: \"Add a new todo\",\n                  value: newitem.todotext\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              xs: \"2\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: addItem,\n                variant: \"outline-primary\",\n                children: \"Add Todo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 19\n              }, this), ' ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xs: \"2\",\n          children: /*#__PURE__*/_jsxDEV(Toast, {\n            onClose: function onClose() {\n              return setToast({\n                text: \"\",\n                show: false\n              });\n            },\n            show: toast.show,\n            delay: 1000,\n            autohide: true,\n            children: [/*#__PURE__*/_jsxDEV(Toast.Header, {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"mr-auto\",\n                children: \"Error\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Toast.Body, {\n              children: toast.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: items.map(function (item) {\n          return /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              border: item.complete == true ? \"success\" : \"primary\",\n              style: {\n                width: '18rem',\n                marginTop: 20 + \"px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n                children: item._id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                  children: item.todotext\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 23\n                }, _this), /*#__PURE__*/_jsxDEV(ListGroup, {\n                  variant: \"flush\",\n                  children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                    children: [\" Completed ? \", /*#__PURE__*/_jsxDEV(Form.Check, {\n                      onChange: function onChange(e) {\n                        return changeItemComplete(e, item);\n                      },\n                      checked: item.complete,\n                      type: \"checkbox\",\n                      id: item._id\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 56\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 27\n                  }, _this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outline-danger\",\n                      size: \"sm\",\n                      onClick: function onClick() {\n                        return deleteItem(item._id);\n                      },\n                      children: \"Delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 166,\n                      columnNumber: 43\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 27\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 23\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 21\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 19\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 17\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Home, \"5iLef6nuy4F4TqVCCpmpxWh/zW0=\");\n\n_c = Home;\n\nHome.getInitialProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ctx) {\n    var res, data;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return fetch(\"http://localhost:9000/api\");\n\n          case 3:\n            res = _context2.sent;\n            _context2.next = 10;\n            break;\n\n          case 6:\n            _context2.prev = 6;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(\"initial load error\");\n            return _context2.abrupt(\"return\", {\n              data: []\n            });\n\n          case 10:\n            _context2.next = 12;\n            return res.json();\n\n          case 12:\n            data = _context2.sent;\n            return _context2.abrupt(\"return\", {\n              data: data\n            });\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 6]]);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/home/nipun/Focaloid/Slim.AI/todo-demo/next-todo-demo/client/pages/index.js"],"names":["React","useState","Navbar","InputGroup","Form","FormControl","ListGroup","Button","Container","Col","Row","Card","Toast","NProgress","Home","data","items","setItems","complete","todotext","newitem","setNewitem","text","show","toast","setToast","baseUrl","getTodos","url","fetch","then","_","console","log","status","json","result","changeNewitemName","e","_newItem","target","value","changeNewitemComplete","checked","changeItemComplete","item","start","_id","method","headers","body","JSON","stringify","done","addItem","deleteItem","id","marginTop","paddingLeft","map","width","getInitialProps","ctx","res"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Navbar, InputGroup, Form, FormControl, ListGroup, Button, Container, Col, Row, Card, Toast } from 'react-bootstrap'\nimport NProgress from 'nprogress'\nimport 'nprogress/nprogress.css'\n\nfunction Home( {data} ) {\n\n  const [items, setItems] = useState(data)\n  const [newitem, setNewitem] = useState({complete:false, todotext:\"\"})\n  const [toast, setToast] = useState({text:\"\",show:false})\n\n  const baseUrl = \"http://localhost:9000/api\";\n\n  // API Calls\n\n  const getTodos = async () => {\n      let url = baseUrl + \"/\"\n      try{\n        await fetch(url)\n                        .then( _ => {\n                          console.log(_.status);\n                          return _.json()\n                        }).then(result=>{\n                          console.log(result)\n                          setItems(result);\n                        })\n                        .catch( _ => {\n                          setToast({text:\"data get error\",show:true})\n                          console.log(\"error\",_);\n                        })\n        \n      }\n      catch (e){\n        console.log(\"Error : \",e);\n      }\n  }\n\n  const changeNewitemName = (e) => setNewitem(\n    (_newItem)=>{\n      _newItem.todotext = e.target.value; \n      return {..._newItem}\n    }\n  )\n\n  const changeNewitemComplete = (e) => setNewitem(\n    (_newItem) => {\n      _newItem.complete = e.target.checked;\n      console.log(_newItem);\n      return {..._newItem}\n    }\n  )\n\n  const changeItemComplete = (e, item) => {\n    NProgress.start()\n    let url = baseUrl + \"/\" + item._id;\n    item.complete = !item.complete\n    fetch(url, {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(item)\n    })\n    .then( _ => getTodos())\n    .catch( _ => setToast({text:\"todo update error\",show:true}))\n    NProgress.done()\n  }\n\n  const addItem = () => {\n    NProgress.start()\n    let data = {\n      todotext : newitem.todotext,\n      complete : newitem.complete,\n    }\n    console.log(data);\n    let url = baseUrl + \"/\"\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n    .then( _ => {\n      console.log(_.status);\n      return _.json()\n    }).then(result=>{\n      console.log(\"result\",result)\n      getTodos();\n      setNewitem({complete:false, todotext:\"\"})\n    })\n    .catch( _ => {\n      setToast({text:\"todo add error\",show:true})\n      console.log(\"error\",_);\n    })\n    NProgress.done()\n  }\n\n  const deleteItem = (id) => {\n    NProgress.start()\n    let url = baseUrl + \"/\" + id;\n    fetch(url,{\n      method: \"DELETE\",\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    })\n    .then( _ => {\n      getTodos();\n    })\n    .catch( () => {\n      setToast({text:\"todo delete error\", show:true});\n    })\n    NProgress.done()\n  }\n\n  return (\n    <>\n    <Navbar bg=\"light\" variant=\"light\">\n      <Navbar.Brand href=\"#home\">Next Based Todo App</Navbar.Brand>\n    </Navbar>\n    <Container>\n       <Row  style={{marginTop:40 + 'px'}} >\n         <Col xs=\"10\">\n          <Row>\n            <h3 style={{paddingLeft:30+'px'}} >Add Todo</h3>\n          </Row>\n          <Row className=\"justify-content-xs-center\" >\n              <Col xs=\"10\" >\n                <InputGroup className=\"mb-3\">\n                  <InputGroup.Prepend>\n                    <InputGroup.Checkbox onChange={changeNewitemComplete} checked={newitem.complete} />\n                  </InputGroup.Prepend>\n                  <FormControl onChange={changeNewitemName} placeholder=\"Add a new todo\" value={newitem.todotext} />\n                </InputGroup>\n              </Col>\n              <Col xs=\"2\" >\n                  <Button onClick={addItem} variant=\"outline-primary\">Add Todo</Button>{' '}\n              </Col>\n          </Row>\n         </Col>\n         <Col xs=\"2\" >\n            <Toast onClose={() => setToast({text:\"\",show:false})} show={toast.show} delay={1000} autohide>\n            <Toast.Header>\n              <strong className=\"mr-auto\">Error</strong>\n            </Toast.Header>\n              <Toast.Body>{toast.text}</Toast.Body>\n            </Toast>\n         </Col>    \n       </Row>\n       <Row>\n         { \n          items.map( \n            item => ( \n                <Col>\n                  <Card border={ item.complete == true ? \"success\" : \"primary\" } style={{ width: '18rem', marginTop: 20+\"px\" }}>\n                    <Card.Header>{item._id}</Card.Header>\n                    <Card.Body>\n                      <Card.Title>{item.todotext}</Card.Title>\n                      <ListGroup variant=\"flush\">\n                          <ListGroup.Item> Completed ? <Form.Check onChange={(e)=>changeItemComplete(e,item)} checked={item.complete} type=\"checkbox\" id={item._id} /></ListGroup.Item>\n                          <ListGroup.Item><Button variant=\"outline-danger\" size=\"sm\" onClick={() => deleteItem(item._id)} >Delete</Button></ListGroup.Item>\n                      </ListGroup>\n                      \n                    </Card.Body>\n                  </Card>\n                </Col> \n                )\n              )\n          }\n       </Row>\n    </Container>\n    </>\n  )\n}\n\nHome.getInitialProps = async (ctx) => {\n  try{\n    var res = await fetch(\"http://localhost:9000/api\")\n  }\n  catch {\n    console.log(\"initial load error\");\n    return {data: []}\n  }\n  const data = await res.json()\n  return { data: data }\n  \n}\n\n\nexport default Home"]},"metadata":{},"sourceType":"module"}